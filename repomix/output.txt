This file is a merged representation of a subset of the codebase, containing specifically included files, combined into a single document by Repomix.
The content has been processed where line numbers have been added.

<files>
This section contains the contents of the repository's files.

<file path="components/EditTodoForm.tsx">
 1: "use client";
 2: 
 3: import { useState } from "react";
 4: import { useRouter } from "next/navigation";
 5: import type { Todo } from "@/lib/types/todo";
 6: import { Input } from "@/components/ui/input";
 7: import { Button } from "@/components/ui/button";
 8: import { editTodo } from "@/backend/todo/actions";
 9: 
10: interface EditTodoFormProps {
11:   initialTodo: Todo;
12: }
13: 
14: export function EditTodoForm({ initialTodo }: EditTodoFormProps) {
15:   const [editText, setEditText] = useState(initialTodo.text);
16:   const [isLoading, setIsLoading] = useState(false);
17:   const router = useRouter();
18: 
19:   const handleSubmit = async (e: React.FormEvent) => {
20:     e.preventDefault();
21:     setIsLoading(true);
22:     try {
23:       await editTodo(initialTodo.id, editText);
24:       router.push("/");
25:     } catch (error) {
26:       console.error("Failed to edit todo:", error);
27:       // Optionally display an error message to the user
28:     } finally {
29:       setIsLoading(false);
30:     }
31:   };
32: 
33:   const handleCancel = () => {
34:     router.push("/");
35:   };
36: 
37:   return (
38:     <form onSubmit={handleSubmit} className="flex flex-col gap-4">
39:       <Input
40:         type="text"
41:         value={editText}
42:         onChange={(e) => setEditText(e.target.value)}
43:         placeholder="Edit todo"
44:         disabled={isLoading}
45:       />
46:       <div className="flex gap-2">
47:         <Button type="submit" disabled={isLoading}>
48:           {isLoading ? "Saving..." : "Save"}
49:         </Button>
50:         <Button type="button" variant="outline" onClick={handleCancel} disabled={isLoading}>
51:           Cancel
52:         </Button>
53:       </div>
54:     </form>
55:   );
56: }
</file>

</files>
